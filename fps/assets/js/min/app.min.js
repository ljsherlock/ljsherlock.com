"use strict";if(function(a){var b={init:function(){return!!navigator.cookieEnabled&&(!!this.has_cookie("FPS_cuts-the-mustard")||(this.cuts_the_mustard()&&(this.set_cookie("FPS_cuts-the-mustard",!0),this.halt_reload()),!1))},cuts_the_mustard:function(){return"querySelector"in document&&"localStorage"in window&&"addEventListener"in window},set_cookie:function(a,b){var c=new Date;c.setTime(c.getTime()+864e6);var d=c.toUTCString();document.cookie=a+"="+encodeURI(b)+"; expires="+d+"; path=/"},has_cookie:function(a){if(Util.getCookie(a))return!0},halt_reload:function(){window.stop(),location.reload(!0)}};a.Mustard=b}(this),function(a){var b={w:window,d:document,e:document.documentElement,g:document.getElementsByTagName("body")[0],x:window.innerWidth,y:window.innerHeight,isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},each:function(a,b){var c=a.length;if(void 0===c||this.isFunction(a)){for(var d in a)if(!1===b.call(a[d],a[d],d))break}else for(var e=0,f=a[0];e<c&&!1!==b.call(a[e],f,e);f=a[++e]);return a},makeArray:function(a){return null!=a.length?Array.prototype.slice.call(a,0).filter(function(a){return void 0!==a}):[]},fitToWindow:function(a){var b=this.d.querySelector(a),c=this.w.innerHeight;b&&(b.style.height=c+"px")},fullscreen:function(a){this.fitToWindow(a),window.onresize=function(){b.fitToWindow(a)}},delegate:function(a,b,c,d){a.addEventListener(b,function(a){for(var b=a.target;b&&b!==this;)"function"==typeof b.matches?b.matches(c)&&d.call(b,a):b.matchesSelector(c)&&d.call(b,a),b=b.parentNode})},getCookie:function(a){var b="; "+document.cookie,c=b.split("; "+a+"=");if(2==c.length)return c.pop().split(";").shift()},delete_cookie:function(a){document.cookie=a+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},supportSVG:function(){return!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)},generate_id:function(a){var b="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");a||(a=Math.floor(Math.random()*b.length));for(var c="",d=0;d<a;d++)c+=b[Math.floor(Math.random()*b.length)];return c},detect_ie:function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);if(a.indexOf("Trident/")>0){var c=a.indexOf("rv:");return parseInt(a.substring(c+3,a.indexOf(".",c)),10)}var d=a.indexOf("Edge/");return d>0&&parseInt(a.substring(d+5,a.indexOf(".",d)),10)},detect_device:function(){/Android|webOS|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=App.mobileWidthMax?(App.isMobile=!0,App.isTablet=App.isDesktop=!1):/Android|webOS|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=App.tabletWidthMax?(App.isTablet=!0,App.isMobile=App.isDesktop=!1):(App.isTablet=App.isMobile=!1,App.isDesktop=!0)},dekstop_nav__hide:function(){function a(){var a=$(window).scrollTop();Math.abs(c-a)<=d||(0==a?($("header").removeClass("header--hide-it"),$("header").removeClass("header--fixed"),$("header").find(".nav__menu").addClass("flex-row__flex-col--center").removeClass("flex-row__flex-col--centered")):a>c&&a>0?($("header").addClass("header--hide-it").removeClass("header--fixed"),$("header").find(".nav__menu").addClass("flex-row__flex-col--centered").removeClass("flex-row__flex-col--center")):a+$(window).height()<e?$("header").removeClass("header--hide-it"):($("header").removeClass("header--hide-it"),$("header").addClass("header--fixed")),c=a)}var b,c=0,d=5,e=$("header nav#mainMenu").outerHeight();$(window).scroll(function(a){b=!0}),setInterval(function(){b&&(a(),b=!1)},250)},make_list_from_select:function(a){[].forEach.call(document.querySelectorAll(a),function(a,c,d){a.classList.add("custom-select__list--hidden");var e,f,g,h={},i='<ul class="custom-select__list custom-select__list--'+c+'">',j=a.getElementsByTagName("option");for(e=1;e<j.length;++e){h={},f=j[e],f.getAttribute("value"),g=f.text,h.text=g;var k=b.generate_id(10);j[e].setAttribute("id",k);i+='<li class="custom-select__item" id="'+k+'">'+h.text+"</li>"}i+="</ul>",a.insertAdjacentHTML("afterend",i)})},addLoadEvent:function(a){var b=window.onload;"function"!=typeof window.onload?window.onload=a:window.onload=function(){b&&b(),a()}},browserSupportsAllFeatures:function(){return App.browserFeatures},get_images:function(a,b,c){var d={};d.action="get_images",d.global_hero=document.querySelector("[global_hero]").getAttribute("global_hero"),d.id=document.querySelector("[page-id]").getAttribute("page-id"),d.parent_id=document.querySelector("[parent-id]").getAttribute("parent-id"),d.image_key=a,d.retina=b,$.ajax({url:ajax_url,data:d,context:document.body,dataType:"json",success:function(a){"function"==typeof c?c(a):console.log("Failed to find ajax function "+c)},error:function(a,b,c){console.log(a,b+c)}})},isRetinaDevice:function(){return"devicePixelRatio"in window&&window.devicePixelRatio>=1.5||"matchMedia"in window&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches?this.retinaDevice=!0:this.retinaDevice=!1},loadScript:function(a,b){var c=document.createElement("script");c.src=a,c.onload=function(){b()},c.onerror=function(){b(new Error("Failed to load script "+a))},document.head.appendChild(c)},param:function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b.length>0&&(b+="&"),b+=encodeURI(c+"="+a[c]));return b},perf:function(){var a=function(a){window.onload=function(){window.performance=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};var b,c=window.performance.timing,d=(new Date).getTime();if(c){a=a||1e3;var e=c.navigationStart,f=document.createElement("div");f.setAttribute("id","results"),b=d-e,f.innerHTML=d-e+"ms",f.className+=b>a?" overBudget":" underBudget",document.body.appendChild(f)}}};window.perfBar=a},preventForm:function(a){document.querySelector(a).addEventListener("submit",function(a){a.preventDefault()})},replaceImage:function(a,b){b.setAttribute("style","background-image: url("+a+") center;")},serveRetinaDevice:function(){("devicePixelRatio"in window&&window.devicePixelRatio>=1.5||"matchMedia"in window&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches)&&[].forEach.call(document.querySelectorAll(".backstretch img"),function(a){console.log("hi"),b.get_images("banner",!0,function(b){a.setAttribute("style","background-image: url("+b+") center;")})})},search_keydown_ajax:function(){var a=document.querySelector("#search__form"),b=document.querySelector("#search--site");a.querySelector(".search__field").addEventListener("keydown",function(a){var c=a.target,d=c.value;if(c.setAttribute("autocomplete","off"),d.length>2){var e=new XMLHttpRequest;e.open("PUT",ajax_url+"?action=fps_search_ajax"),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){if(200===e.status){var a=e.responseText,c=b.querySelector("#search__results");b.querySelector("#search__results--portable");c.classList.add("search__results--active"),c.innerHTML=a}else 200!==e.status&&alert("Request failed.  Returned status of "+e.status)},e.send(JSON.stringify({action:"fps_search_ajax",term:d}))}})},sub_menu_hover:function(){[].forEach.call(document.querySelectorAll(".nav--sub-menu .nav__link"),function(a){a.addEventListener("mouseenter",function(a){var b=document.querySelector(".events-overlay"),c=a.currentTarget,d=document.querySelectorAll(".nav__link--active"),e=c.parentNode;e.classList.contains("nav__sub-item")?(c.parentNode.parentNode.parentNode.querySelector(".nav__link").classList.add("nav__link--active"),b.classList.add("events-overlay--visible"),e=null):(c.classList.add("nav__link--active"),b.classList.add("events-overlay--visible")),null!==e&&null!==d&&d.length>0&&[].forEach.call(d,function(a){a!==c&&a.classList.remove("nav__link--active")})})}),[].forEach.call(document.querySelectorAll(".nav__item > .nav__link"),function(a){a.addEventListener("mouseout",function(){var a=event.currentTarget,b=(document.querySelectorAll(".btn--active"),document.querySelector(".events-overlay"));a.classList.remove("nav__link--active"),b.classList.remove("events-overlay--visible")})}),[].forEach.call(document.querySelectorAll(".nav__sub-list"),function(a){a.addEventListener("mouseout",function(){var a=event.currentTarget,b=(document.querySelectorAll(".btn--active"),document.querySelector(".events-overlay"));a.parentNode.querySelector(".nav__link").classList.remove("nav__link--active"),b.classList.remove("events-overlay--visible")})})},video:function(a){var b=document.getElementById(a);if(b){var c=b.querySelector("video"),d=b.querySelector(".video__playpause");c&&d&&(c.removeAttribute("controls"),d.addEventListener("click",function(){c.paused?(c.play(),d.classList.add("video__playpause--playing")):(c.pause(),d.classList.remove("video__playpause--playing"))},!1))}},background_video:function(a){var b=document.querySelector(".backstretch"),c=document.querySelector(a);if(c){var d=c.videoWidth/c.videoHeight,e=b.offsetWidth/b.offsetHeight,f=d<e?e/d:d/e;c.setAttribute("style","-webkit-transform: scale("+f+");"),document.querySelector(".video--background").classList.add("video--active"),document.querySelector(".video--background").classList.remove("video--inactive");var g=document.querySelector(".video__playpause");g.classList.remove("video__btn--loading"),g.classList.add("video__btn--loaded"),setInterval(function(a){},3e3),setTimeout(function(){c.play()},500)}},slideshowCaptionLoop:function(){[].forEach.call(document.querySelectorAll(".slideshow__item"),function(a,c,d){a.querySelector(".slideshow__content").classList.remove("slideshow__content--off-screen"),a.querySelector(".slideshow__content").classList.remove("slideshow__content--active"),a.querySelector(".slideshow__content").classList.add("slideshow__content--inactive"),0==c?a.querySelector(".slideshow__content").classList.add("slideshow__content--active"):setTimeout(function(){d[c-1].querySelector(".slideshow__content").classList.add("slideshow__content--off-screen"),a.querySelector(".slideshow__content").classList.add("slideshow__content--active"),c==d.length-1&&setTimeout(function(){a.querySelector(".slideshow__content").classList.add("slideshow__content--off-screen"),setTimeout(function(){b.slideshowCaptionLoop()},5e3)},5e3)},5e3*(c+1))})}};a.Util=b}(this),function(a){var b={mustardCookie:!1,retinaDevice:!1,init:function(){},main:function(){}};a.Core=b}(this),Util.getCookie("mustard"))var $=jQuery.noConflict();if(function(a){var b={mobileWidthMax:500,tabletWidthMax:800,mustardCookie:!1,wrapWidth:1200,browserFeatures:"matches"in Element.prototype&&"classList"in Element.prototype&&Util.supportSVG(),init:function(){console.log("app init"),Util.detect_device(),this.hamburger(),this.drop_down(),this.page_setup()},page_setup:function(){Util.video("video"),Util.get_images("banner",Util.isRetinaDevice(),function(a){b.slides_init(a)}),0==b.isMobile&&(Util.fullscreen(".slideshow--adjust"),Util.addLoadEvent(function(){Util.background_video("#homeBackgroundVideo video"),Util.slideshowCaptionLoop()}),window.addEventListener("resize",function(){Util.background_video("#homeBackgroundVideo video")})),this.tile_height(),window.addEventListener("resize",function(){b.tile_height()}),this.customSelect(),this.accordion(),this.calendar_navigation(),this.reveal_audit(),this.search("#search"),this.search("#docs_search")},ajax_links:function(){var a=(document.querySelector(".main"),"http://"+top.location.host.toString()),c=document.querySelectorAll("a[href^='"+a+"']");[].forEach.call(c,function(a){a.classList.add("internal_link"),a.addEventListener("click",function(c){c.preventDefault(),document.querySelector(".hamburger-button__checkbox").checked=!1,document.querySelector("html").style.overflow="auto",window.onload=function(){document.querySelector(".overlay--loading").classList.add("loading-bar--loaded-signal"),setTimeout(function(){document.querySelector(".overlay--loading").classList.add("overlay--loading-close")},750)};var d=a.getAttribute("href"),e=JSON.stringify({ajax:!0}),f=new XMLHttpRequest;f.open("PUT",d),f.setRequestHeader("Content-Type","application/json"),f.send(e),f.onload=function(){if(200===f.status){var a=document.querySelector(".main"),c=f.responseText;a.innerHTML=c,b.page_setup()}else 200!==f.status&&alert("Request failed.  Returned status of "+f.status)}})})},button_click:function(a,b){[].forEach.call(document.querySelectorAll(a),function(a){a.addEventListener("click",function(a){a.preventDefault();var c=this,d=document.querySelectorAll(".btn--active"),e=c.parentNode.parentNode.querySelector(b);c.classList.contains("btn--active")?(c.classList.remove("btn--active"),c.classList.add("btn--inactive"),null!==e&&e.classList.remove("events-overlay--visible")):(c.classList.remove("btn--inactive"),c.classList.add("btn--active"),null!==e&&e.classList.add("events-overlay--visible")),null!==d&&d.length>0&&[].forEach.call(d,function(a){a.classList.remove("btn--active"),a.classList.add("btn--inactive")})})})},calendar_navigation:function(){document.querySelector("#calendar_next, #calendar_prev");this.button_click(".calendar__btn"),Util.delegate(document,"click","#calendar_next, #calendar_prev",function(a){a.preventDefault();var c=document.querySelector(".events");c.classList.remove("events--navigated"),c.classList.add("events--navigate");var d=this.getAttribute("href").split("/"),e=d[2],f=d[3],g=JSON.stringify({action:"get_calendar",m:e,y:f,ajax:!0}),h=new XMLHttpRequest;h.open("PUT","/events/"+e+"/"+f),h.setRequestHeader("Content-Type","application/json"),h.send(g),h.onload=function(){if(200===h.status){var a=document.querySelector(".main"),c=h.responseText;a.innerHTML=c,b.page_setup()}else 200!==h.status&&alert("Request failed.  Returned status of "+h.status)}})},accordion:function(){[].forEach.call(document.querySelectorAll(".accordion__button"),function(a){a.addEventListener("click",function(a){var b=this;b.classList.contains("btn--active")?(b.classList.remove("events-overlay--visible"),b.parentNode.querySelector(".accordion__button").classList.remove("btn--active"),b.parentNode.querySelector(".accordion__button").classList.add("btn--inactive")):(b.classList.remove("events-overlay--visible"),b.parentNode.querySelector(".accordion__button").classList.add("btn--active"),b.parentNode.querySelector(".accordion__button").classList.remove("btn--inactive"))})})},customSelect:function(){Util.make_list_from_select(".custom-select select"),this.button_click(".custom-select__button",".custom-select__event"),[].forEach.call(document.querySelectorAll(".custom-select__event"),function(a){a.addEventListener("click",function(a){var b=this;b.classList.remove("events-overlay--visible"),b.parentNode.querySelector(".custom-select__button").classList.remove("btn--active"),b.parentNode.querySelector(".custom-select__button").classList.add("btn--inactive")})}),Util.delegate(document,"click",".custom-select__event",function(a){var b=document.querySelectorAll(".btn--active");a.target.classList.remove("events-overlay--visible"),null!==b&&b.length>0&&[].forEach.call(b,function(a){a.classList.remove("btn--active")})}),[].forEach.call(document.querySelectorAll(".custom-select__item"),function(a){a.addEventListener("click",function(a){var b=this,c=b.parentNode.querySelector(".custom-select__item--selected");document;b.classList.add("custom-select__item--selected"),document.getElementById(b.getAttribute("id")).setAttribute("selected","selected");var d=document.getElementById(b.getAttribute("id")).getAttribute("value"),e=b.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector(".member-search"),f=e.getAttribute("data-action");e.setAttribute("action",f+d),b.parentNode.parentNode.querySelector(".custom-select__button").classList.remove("btn--active"),b.parentNode.parentNode.querySelector(".custom-select span").innerHTML=b.innerHTML,b.parentNode.parentNode.querySelector(".custom-select__event").classList.remove("events-overlay--visible"),null!==c&&(c.classList.remove("custom-select__item--selected"),document.getElementById(c.getAttribute("id")).removeAttribute("selected"))})})},drop_down:function(){Util.delegate(document,"click",".drop-down__event",function(a){var b=document.querySelectorAll(".btn--active");this.classList.remove("events-overlay--visible"),null!==b&&b.length>0&&[].forEach.call(b,function(a){a.classList.remove("btn--active")})}),[].forEach.call(document.querySelectorAll(".nav__label"),function(a){a.addEventListener("click",function(a){var b=this,c=b.parentNode.parentNode.querySelectorAll(".nav__check");null!==c&&c.length>0&&[].forEach.call(c,function(a){a!==b.parentNode.querySelector(".nav__check")&&(a.checked=!1)})})})},drop_down_click:function(a,b){[].forEach.call(document.querySelectorAll(a),function(a){a.addEventListener("click",function(a){a.preventDefault();var c=this,d=document.querySelectorAll(".btn--active"),e=document.querySelector(b);c.classList.contains("btn--active")?(c.classList.remove("btn--active"),c.classList.add("btn--inactive"),null!==e&&e.classList.remove("events-overlay--visible")):(c.classList.remove("btn--inactive"),c.classList.add("btn--active"),null!==e&&e.classList.add("events-overlay--visible")),null!==d&&d.length>0&&[].forEach.call(d,function(a){a!==c.parentNode.parentNode.parentNode.querySelector(".drop-down__button--has-children")&&(a.classList.remove("btn--active"),a.classList.add("btn--inactive"))})})})},hamburger:function(){var a=document.querySelector(".hamburger-button__checkbox");document.querySelector(".btn--hamburger").addEventListener("click",function(b){a.checked?document.querySelector("html").style.overflow="auto":document.querySelector("html").style.overflow="hidden"})},reveal_audit:function(){0==b.isMobile&&(window.sr=ScrollReveal(),sr.reveal(".audit--1",{duration:750,delay:500,afterReveal:function(a){a.classList.add("audit--animate")}},250),sr.reveal(".audit--2",{duration:750,delay:500,afterReveal:function(a){a.classList.add("audit--animate")}},250),sr.reveal(".audit--3",{duration:750,delay:500,afterReveal:function(a){a.classList.add("audit--animate")}},250),sr.reveal(".audit--4",{duration:750,delay:500,afterReveal:function(a){a.classList.add("audit--animate")}},250),sr.reveal(".audit--5",{duration:750,delay:500,afterReveal:function(a){a.classList.add("audit--animate")}},250))},search:function(a){var b=document.querySelector(a);b&&b.addEventListener("click",function(a){var b=this.parentNode.parentNode.parentNode;b.classList.add("search--show"),b.querySelector(".search__field").focus(),b.querySelector(".search__results li")&&window.innerWidth>1399?(b.querySelector(".search__results .search__field").focus(),b.querySelector(".search__results").classList.add("search__results--active")):b.querySelector(".search__results li")&&(b.querySelector(".search__results .search__field").focus(),b.querySelector(".search__results--portable").classList.add("search__results--active")),b.querySelector(".search__field").addEventListener("blur",function(){b.classList.remove("search--show"),b.querySelector(".search__results li")&&b.querySelector(".search__results").classList.remove("search__results--active")})},!1)},slides_init:function(a){var c=$(".backstretch");$(".slideshow__img").remove(),c.backstretch(a,{duration:1e4}),$(".slideshow__next, .counter__arrow-r").on("click",function(){c.data("backstretch").next()}),$(".counter__arrow-l").on("click",function(){c.data("backstretch").prev(),b.slides_prev(c.data("backstretch").index)}),c.on("backstretch.show",function(a,c,d){b.slides_next(d)}),c.on("backstretch.before",function(a,b,c){var d=document.querySelector(".backstretch img"),e=document.querySelector(".slideshow.backstretch"),f=d.cloneNode(!0);f.setAttribute("class","backstretch__slider"),e.appendChild(f),document.querySelector(".backstretch__slider").setAttribute("class","backstretch__slider--slide")}),c.on("backstretch.before",function(a,b,c){var d=document.querySelector(".backstretch__slider--slide");setTimeout(function(){d.parentNode.removeChild(d)},1e3)})},slides_next:function(a){var a=a+1,b=a-1,c=$(".slideshow__item").length;1==a&&(b=c),$(".slideshow__item:nth-child("+b+")").removeClass("slideshow__item--active"),$(".slideshow__item:nth-child("+a+")").addClass("slideshow__item--active")},slides_prev:function(a){var b=a+2;a==$(".slideshow__item").length-1&&(b=1),$(".slideshow__item:nth-child("+b+")").removeClass("slideshow__item--active"),$(".slideshow__item:nth-child("+a+")").addClass("slideshow__item--active")},tile_height:function(){var a=window,c=document,d=(c.documentElement,c.getElementsByTagName("body")[0],a.innerWidth);a.innerHeight;d<b.wrapWidth&&[].forEach.call(document.querySelectorAll(".tile--position-papers"),function(a){a.style.height=window.getComputedStyle(a).width})},video:function(){var a=document.querySelector("#video video"),b=document.getElementById("playpause");null!=a&&(a.removeAttribute("controls"),b.addEventListener("click",function(){a.paused?(a.play(),b.classList.add("playing")):(a.pause(),b.classList.remove("playing"))},!1))}};a.App=b}(this),Util.getCookie("FPS_cuts-the-mustard"))var $=jQuery.noConflict();var Initialize={init:function(){if(1==Mustard.init())if(this.mustardCookie=Util.getCookie("FPS_cuts-the-mustard"),this.mustardCookie)1==Util.browserSupportsAllFeatures()?Initialize.main():Util.loadScript(localized.js+"/polyfills/polyfills.js",function(){Initialize.main()});else{var a=document.getElementsByTagName("html");a.setAttribute("class","does-not-cut-the-mustard")}},main:function(){document.querySelector("body").classList.remove("uncut-mustard"),document.querySelector("body").classList.add("cut-mustard"),/comp|inter|loaded/.test(document.readyState)?(Core.init(),App.init()):document.addEventListener("DOMContentLoaded",function(){Core.init(),App.init()},!1)}};Initialize.init();