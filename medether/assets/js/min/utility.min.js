"use strict";!function(a){var b={w:window,d:document,e:document.documentElement,g:document.getElementsByTagName("body")[0],x:window.innerWidth,y:window.innerHeight,addLoadEvent:function(a){var b=window.onload;"function"!=typeof window.onload?window.onload=a:window.onload=function(){b&&b(),a()}},btn_state:function(a){[].forEach.call(document.querySelectorAll(".btn--inactive"),function(b){b.addEventListener("click",function(b){b.preventDefault();var c=event.currentTarget,d=document.querySelectorAll(".btn--active"),e=c.parentNode.parentNode.querySelector(a);c.classList.contains("btn--active")?(c.classList.remove("btn--active"),c.classList.add("btn--inactive"),null!==e&&e.classList.remove("events-overlay--visible")):(c.classList.remove("btn--inactive"),c.classList.add("btn--active"),null!==e&&e.classList.add("events-overlay--visible")),null!==d&&d.length>0&&[].forEach.call(d,function(a){a.classList.remove("btn--active"),a.classList.add("btn--inactive")})})})},background_video:function(a){var b=document.querySelector(".backstretch"),c=document.querySelector(a),d=c.videoWidth/c.videoHeight,e=b.offsetWidth/b.offsetHeight,f=d<e?e/d:d/e;c.setAttribute("style","-webkit-transform: scale("+f+");"),document.querySelector(".video--background").classList.add("video--loaded"),document.querySelector(".video--background").classList.remove("video--loading");var g=document.querySelector(".video__btn--loading");g.classList.remove("video__btn--loading"),g.classList.add("video__btn--loaded"),document.querySelector(".slideshow__content--loading").classList.add("slideshow__content--loaded"),setTimeout(function(){c.play()},500)},getComputedStyle:function(a){return b.w.getComputedStyle(b.g)[a]},select:function(){b.make_list_from_select(".custom-select select"),b.button_click(".custom-select__button",".custom-select__event"),[].forEach.call(document.querySelectorAll(".custom-select__event"),function(a){a.addEventListener("click",function(a){var b=a.currentTarget;b.classList.remove("events-overlay--visible"),b.parentNode.querySelector(".custom-select__button").classList.remove("btn--active"),b.parentNode.querySelector(".custom-select__button").classList.add("btn--inactive")})}),b.delegate(document,"click",".custom-select__event",function(a){var b=document.querySelectorAll(".btn--active");a.target.classList.remove("events-overlay--visible"),null!==b&&b.length>0&&[].forEach.call(b,function(a){a.classList.remove("btn--active")})}),[].forEach.call(document.querySelectorAll(".custom-select__item"),function(a){a.addEventListener("click",function(a){var b=a.currentTarget,c=b.parentNode.querySelector(".custom-select__item--selected");document;b.classList.add("custom-select__item--selected"),document.getElementById(b.getAttribute("id")).setAttribute("selected","selected");var d=document.getElementById(b.getAttribute("id")).getAttribute("value"),e=b.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector(".member-search"),f=e.getAttribute("data-action");e.setAttribute("action",f+d),b.parentNode.parentNode.querySelector(".custom-select__button").classList.remove("btn--active"),b.parentNode.parentNode.querySelector(".custom-select span").innerHTML=b.innerHTML,b.parentNode.parentNode.querySelector(".custom-select__event").classList.remove("events-overlay--visible"),null!==c&&(c.classList.remove("custom-select__item--selected"),document.getElementById(c.getAttribute("id")).removeAttribute("selected"))})})},delegate:function(a,b,c,d){a.addEventListener(b,function(a){for(var b=a.target;b&&b!==this;)b.matches(c)&&d.call(b,a),b=b.parentNode})},delete_cookie:function(a){document.cookie=a+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},detect_ie:function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);if(a.indexOf("Trident/")>0){var c=a.indexOf("rv:");return parseInt(a.substring(c+3,a.indexOf(".",c)),10)}var d=a.indexOf("Edge/");return d>0&&parseInt(a.substring(d+5,a.indexOf(".",d)),10)},detect_device:function(){/Android|webOS|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=App.mobileWidthMax?(App.isMobile=!0,App.isTablet=Core.isDesktop=!1):/Android|webOS|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=Core.tabletWidthMax?(Core.isTablet=!0,Core.isMobile=Core.isDesktop=!1):(Core.isTablet=Core.isMobile=!1,Core.isDesktop=!0)},each:function(a,b){var c=a.length;if(void 0===c||this.isFunction(a)){for(var d in a)if(!1===b.call(a[d],a[d],d))break}else for(var e=0,f=a[0];e<c&&!1!==b.call(a[e],f,e);f=a[++e]);return a},fitToWindow:function(a){var b=this.d.querySelector(a),c=this.w.innerHeight;b&&(b.style.height=c+"px")},fullscreen:function(a){this.fitToWindow(a),window.onresize=function(){b.fitToWindow(a)}},get_images:function(a,b,c){var d={};d.action="get_images",d.global_hero=document.querySelector("[global_hero]").getAttribute("global_hero"),d.id=document.querySelector("[page-id]").getAttribute("page-id"),d.parent_id=document.querySelector("[parent-id]").getAttribute("parent-id"),d.image_key=a,d.retina=b,$.ajax({url:ajax_url,data:d,context:document.body,dataType:"json",success:function(a){"function"==typeof c?c(a):console.log("Failed to find ajax function "+c)},error:function(a,b,c){console.log(a,b+c)}})},getCookie:function(a){var b="; "+document.cookie,c=b.split("; "+a+"=");if(2==c.length)return c.pop().split(";").shift()},generate_id:function(a){var b="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");a||(a=Math.floor(Math.random()*b.length));for(var c="",d=0;d<a;d++)c+=b[Math.floor(Math.random()*b.length)];return c},isRetinaDevice:function(){return"devicePixelRatio"in window&&window.devicePixelRatio>=1.5||"matchMedia"in window&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches?this.retinaDevice=!0:this.retinaDevice=!1},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},make_list_from_select:function(a){[].forEach.call(document.querySelectorAll(a),function(a,c,d){a.classList.add("custom-select__list--hidden");var e,f,g,h={},i='<ul class="custom-select__list custom-select__list--'+c+'">',j=a.getElementsByTagName("option");for(e=1;e<j.length;++e){h={},f=j[e],f.getAttribute("value"),g=f.text,h.text=g;var k=b.generate_id(10);j[e].setAttribute("id",k);i+='<li class="custom-select__item" id="'+k+'">'+h.text+"</li>"}i+="</ul>",a.insertAdjacentHTML("afterend",i)})},makeArray:function(a){return null!=a.length?Array.prototype.slice.call(a,0).filter(function(a){return void 0!==a}):[]},param:function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b.length>0&&(b+="&"),b+=encodeURI(c+"="+a[c]));return b},perf:function(){var a=function(a){window.onload=function(){window.performance=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};var b,c=window.performance.timing,d=(new Date).getTime();if(c){a=a||1e3;var e=c.navigationStart,f=document.createElement("div");f.setAttribute("id","results"),b=d-e,f.innerHTML=d-e+"ms",f.className+=b>a?" overBudget":" underBudget",document.body.appendChild(f)}}};window.perfBar=a},preventForm:function(a){document.querySelector(a).addEventListener("submit",function(a){a.preventDefault()})},replaceImage:function(a,b){b.setAttribute("style","background-image: url("+a+") center;")},serveRetinaDevice:function(){("devicePixelRatio"in window&&window.devicePixelRatio>=1.5||"matchMedia"in window&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches)&&[].forEach.call(document.querySelectorAll(".backstretch img"),function(a){console.log("hi"),b.get_images("banner",!0,function(b){a.setAttribute("style","background-image: url("+b+") center;")})})},search_keydown_ajax:function(){var a=document.querySelector("#search__form"),b=document.querySelector("#search--site");a.querySelector(".search__field").addEventListener("keydown",function(a){var c=a.target,d=c.value;if(c.setAttribute("autocomplete","off"),d.length>2){var e=new XMLHttpRequest;e.open("PUT",ajax_url+"?action=fps_search_ajax"),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){if(200===e.status){var a=e.responseText,c=b.querySelector("#search__results");b.querySelector("#search__results--portable");c.classList.add("search__results--active"),c.innerHTML=a}else 200!==e.status&&alert("Request failed.  Returned status of "+e.status)},e.send(JSON.stringify({action:"fps_search_ajax",term:d}))}})},supportSVG:function(){return!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)},scale_size:function(a){var b=window,c=document,d=(c.documentElement,c.getElementsByTagName("body")[0],b.innerWidth);b.innerHeight;d<App.wrapWidth&&[].forEach.call(document.querySelectorAll(a),function(a){a.style.height=window.getComputedStyle(a).width})},setTransform:function(a,b){var c=b.trX?"TranslateX("+b.trX+"px) ":"";c+=b.trY?"TranslateY("+b.trY+"px) ":"",c+=b.rot?"rotate("+b.rot+"deg ) scale(":"",c+=b.sca?b.sca+")":"",c+=b.skx?"skewX("+b.skx+"deg ) skewY(":"",c+=b.sky?b.sky+"deg )":"",c=c,a.style.webkitTransform=c,a.style.MozTransform=c,a.style.msTransform=c,a.style.OTransform=c,a.style.transform=c},video:function(a){var b=document.getElementById(a);if(b){var c=b.querySelector("video"),d=b.querySelector(".video__playpause");c&&d&&(c.removeAttribute("controls"),d.addEventListener("click",function(){c.paused?(c.play(),d.classList.add("video__playpause--playing")):(c.pause(),d.classList.remove("video__playpause--playing"))},!1))}}};a.Util=b}(this);